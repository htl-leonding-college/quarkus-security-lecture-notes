= Quarkus - Authorization with Keycloak (Policies)
Thomas Stütz
1.0.0, 2020-06-07: Lecture Notes for Courses at HTL Leonding
ifndef::imagesdir[:imagesdir: images]
//:toc-placement!:  // prevents the generation of the doc at this position, so it can be printed afterwards
ifndef::sourcedir-code[:sourcedir-code: ../openid-connect-policies/src/main/java/at/htl]
ifndef::sourcedir-test[:sourcedir-test: ../openid-connect-policies/src/test/java/at/htl]
:icons: font
:sectnums:    // Nummerierung der Überschriften / section numbering
:toc: left

//Need this blank line after ifdef, don't know why...
ifdef::backend-html5[]

// https://fontawesome.com/v4.7.0/icons/
icon:file-text-o[link=https://raw.githubusercontent.com/htl-leonding-college/quarkus-security-lecture-notes/master/asciidocs/{docname}.adoc] ‏ ‏ ‎
icon:github-square[link=https://github.com/htl-leonding-college/quarkus-security-lecture-notes] ‏ ‏ ‎
icon:home[link=https://htl-leonding.github.io/]
endif::backend-html5[]

== Create your Quarkus Project

----
mvn io.quarkus:quarkus-maven-plugin:1.5.0.Final:create \
  -DprojectGroupId=at.htl \
  -DprojectArtifactId=quarkus-openid-connect \
  -Dextensions="oidc, resteasy-jsonb"
----

== Add the Endpoint (Resource)

[source,java]
----
include::{sourcedir-code}/UserResource.java[]
----

== application.properties
[source,properties,options="nowrap"]
----
include::{sourcedir-code}/../../../resources/application.properties[]
----

== Make the Initial Commit

[source,console]
----
cd openid-connect-policies

git init
git add .
git commit -m "inital commit"
git remote add origin https://github.com/<your github-account>/openid-connect-policies.git
git push -u origin master

idea .
----

== Add a extension

[source,console]
----
./mvnw quarkus:add-extension -Dextensions="keycloak-authorization"
----


